# Agents

Subagent definitions for Claude Code orchestration. Each agent has specialized responsibilities and can delegate to other agents.

## Agent Inventory

| Agent | Role | Model | Delegates To |
|-------|------|-------|--------------|
| **initializer** | Complete project bootstrap from conception to deployment | opus | git-manager, researcher, planner, ui-ux-designer, tester, debugger, code-reviewer, docs-manager, project-manager |
| **brainstormer** | Solution exploration, architectural decisions, user story generation | default | planner, docs-manager, researcher |
| **planner** | Research, analysis, implementation planning | opus | - |
| **implementer** | End-to-end feature delivery orchestrator | default | researcher, planner, scout, tester, debugger, code-reviewer, ui-ux-designer, docs-manager, project-manager, git-manager |
| **code-reviewer** | Code quality, security, performance review | sonnet | - |
| **tester** | Test execution and validation | default | - |
| **debugger** | Issue investigation and diagnosis | default | - |
| **project-manager** | Progress tracking, plan updates, roadmap | haiku | docs-manager |
| **docs-manager** | Documentation maintenance and standards | sonnet | - |
| **researcher** | Technical research and best practices | default | - |
| **scout** | Codebase file search (internal) | default | - |
| **scout-external** | Codebase search via external tools | default | - |
| **ui-ux-designer** | Frontend design and implementation | default | - |
| **git-manager** | Commit and push operations | default | - |
| **database-admin** | Database operations and optimization | default | - |
| **mcp-manager** | MCP server integrations | default | - |
| **copywriter** | Marketing copy and content | default | - |
| **journal-writer** | Technical difficulty documentation | default | - |

## Primary Workflow

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           DISCOVERY (Optional)                               │
│  ┌──────────────┐                                                           │
│  │ brainstormer │ → Explore options, debate trade-offs, reach consensus,     │
│  │              │   generate user stories with time estimates               │
│  └──────────────┘                                                           │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                      IMPLEMENTATION (Orchestrated by implementer)            │
│                                                                              │
│  Phase 1: Discovery     → Clarifying questions                              │
│  Phase 2: Research      → Multiple researcher agents in parallel            │
│  Phase 3: Planning      → planner creates plan in ./plans/                  │
│  Phase 4: Implementation → Write code, ui-ux-designer for frontend          │
│  Phase 5: Testing       → tester runs tests, debugger if failures           │
│  Phase 6: Code Review   → code-reviewer validates quality                   │
│  Phase 7: Documentation → project-manager + docs-manager (parallel)         │
│  Phase 8: Onboarding    → Help user configure environment                   │
│  Phase 9: Final Report  → Summary, next steps, optional git-manager         │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

## Orchestration Patterns

### Sequential Chaining
For tasks with dependencies:
```
planner → implementer → tester → code-reviewer
```

### Parallel Execution
For independent tasks:
```
┌─ researcher (topic A) ─┐
├─ researcher (topic B) ─┼─→ planner (consolidates)
└─ researcher (topic C) ─┘

┌─ project-manager ─┐
│                   ├─→ (parallel documentation updates)
└─ docs-manager ────┘
```

### Test-Fix Loop
```
tester → (fail) → debugger → fix → tester → (repeat until pass)
```

## Directory Structure

```
./plans/
├── YYYYMMDD-HHmm-plan-name/
│   ├── plan.md                    # Overview (<80 lines)
│   ├── phase-01-name.md           # Phase details
│   ├── phase-02-name.md
│   └── reports/
│       └── YYMMDD-from-to-task-report.md

./docs/
├── project-overview-pdr.md        # Product Development Requirements
├── project-roadmap.md             # Roadmap and changelog
├── code-standards.md              # Coding standards
├── system-architecture.md         # Architecture documentation
├── codebase-summary.md            # Generated by repomix
├── api-docs.md                    # API documentation (if applicable)
└── user-stories/                  # User stories from brainstormer
    └── YYMMDD-HHmm-epic-name.md   # INVEST-compliant user stories
```

## Agent Responsibilities

### initializer
- **Primary orchestrator** for new project setup
- Coordinates 12-phase workflow: Git Init → Requirements → Research → Tech Stack → Planning → Design → Implementation → Testing → Code Review → Documentation → Onboarding → Final Report
- Gathers requirements with brutal honesty about feasibility
- Researches and selects optimal tech stack
- Creates wireframes and design guidelines
- Orchestrates implementation through specialized agents
- Ensures production-ready deployment from conception
- **Does NOT implement directly** - orchestrates through subagents

### brainstormer
- Explores multiple approaches with pros/cons
- Challenges assumptions, debates trade-offs
- Creates comprehensive summary report with recommended solution
- Generates INVEST-compliant user stories with acceptance criteria
- Provides story point estimates (1, 3, 5, 8, 13) and time estimates
- Saves user story report to `./docs/user-stories/YYMMDD-HHmm-epic-name.md`
- **Does NOT implement** - advisory only

### planner
- Creates detailed implementation plans
- Applies mental models: decomposition, inversion, 5 whys, 80/20
- Outputs plan to `./plans/` directory
- **Does NOT implement** - planning only

### implementer
- **Primary orchestrator** for feature development
- Coordinates all other agents through 9-phase workflow
- Ensures end-to-end delivery from requirements to documentation

### code-reviewer
- Reviews code quality, type safety, security
- Categorizes findings: Critical → High → Medium → Low
- Updates plan files with task status
- Verifies task completeness against plan

### project-manager
- Tracks progress against implementation plans
- Updates `./docs/project-roadmap.md`
- Consolidates reports from all agents
- Identifies blockers and next steps

### docs-manager
- Maintains documentation in `./docs/`
- Generates codebase summary via repomix
- Ensures docs stay synchronized with code
- Creates/updates PDRs and standards

## Usage Examples

### New Project Bootstrap
```
User: "Bootstrap a new e-commerce platform"
→ initializer orchestrates complete setup workflow
→ Includes: requirements, research, tech stack, planning, design, implementation, testing, docs, onboarding
```

### Full Feature Implementation
```
User: "Implement OAuth authentication"
→ implementer orchestrates entire workflow
```

### Exploratory Discussion First
```
User: "Should we use REST or GraphQL?"
→ brainstormer explores options
→ (after consensus) implementer builds chosen approach
```

### Code Review Only
```
User: "Review the changes I just made"
→ code-reviewer analyzes recent changes
```

### Progress Check
```
User: "What's our project status?"
→ project-manager consolidates and reports
```

## Key Principles

1. **YAGNI** - You Aren't Gonna Need It
2. **KISS** - Keep It Simple, Stupid
3. **DRY** - Don't Repeat Yourself
4. **SOLID** - For .NET/C# projects

## Report Handoff Format

Agents communicate via markdown reports:
```
./plans/<plan-name>/reports/YYMMDD-from-agent-to-agent-task-report.md
```

Example: `250202-tester-to-debugger-auth-failure-report.md`
